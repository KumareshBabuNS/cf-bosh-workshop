Lab 1: Testing your Bosh-Lite environment

  . Vagrant starts VM
  +
    - exposes ssh port on host machine @ 2222
    +
        - command to connect is ssh vagrant@127.0.0.1 -p2222
        +
        - password should be a key (.vagrant.d/insecure_private_key ????not tested), but also use “vagrant"
        +
 . Bosh Lite director is running inside the Vagrant vm @ 192.168.50.4
 +
    - user is admin, password is “admin"
    +
    - Bosh target 192.168.50.4
    +
    - Bosh login
    +
    - Use bin/add-route command from /bosh-lite to add a static rout to containers via VM
    +
        - Note: this file is not correct for the 10.68.45.0/24 network configured in the Postgres release deployment manifest here: https://github.com/Pivotal-Field-Engineering/postgres-bosh-release/blob/master/postgres.yml

. Running Bosh from within MBPro, but can’t ssh into failed container after deploy
+
    - So, use #1 above to get into VM
    +
    - use "bosh create release --dir postgres-release --force” from home directory
    +
    - use “bosh upload release --dir postgres-release"
    +
    - use “ vi /postgres-release/postgres.yml” to add the right version
    +
    - use “bosh deploy —recreate” to run
    +
    - use “bosh ssh --strict_host_key_checking no” to ssh into container. can look around and then sudo ****, prompted for password
    +
    - For sudo password, try [ENTER] 3 times….then it works?
    +
    - recall using sudo su - vcap to run scripts in proper context/user space
    
